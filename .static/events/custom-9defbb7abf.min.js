"use strict";var _slicedToArray=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,o=!1,a=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){o=!0,a=e}finally{try{!i&&c.return&&c.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};!function(){var t=function(){window.history.replaceState({is_initial:!0},null,"")},m=function(){return window.history.state&&window.history.state.is_initial};var e={init:function(){var n=document.querySelector(".navbar-burger");n.addEventListener("click",function(){var e=n.getAttribute("data-target"),t=document.getElementById(e);n.classList.toggle("is-active"),t.classList.toggle("is-active")})}},n=function(){e.init()};function v(e){var t=e.modalElement,n=e.onClose,i=void 0===n?c:n,o=document.querySelector("html"),a=t.querySelector(".modal-content"),r=t.querySelectorAll(".hide-modal");function c(){t.classList.remove("is-active"),o.classList.remove("no-scroll"),document.removeEventListener("keydown",l,!1),r.forEach(function(e){e.removeEventListener("click",i,!1)})}function l(e){"Escape"===e.key&&i()}return Object.freeze({open:function(){t.classList.add("is-active"),a.scrollTop=0,o.classList.add("no-scroll"),document.addEventListener("keydown",l,!1),r.forEach(function(e){e.addEventListener("click",i,!1)})},close:c})}var i=function(){var l=void 0,s=[];function e(){l&&l.close(),l=null;var e,t,n,i,o=window.location.hash.slice(1).split("="),a=_slicedToArray(o,2),r=a[0],c=a[1];s.includes(r)&&(e=r,t=c,n=m()?d:u,(i=document.querySelector("#modal-"+e+"-"+t))&&(l=v({modalElement:i,onClose:n})).open())}function d(){window.location.hash="#",history.replaceState(null,null,".")}function u(){history.back()}return window.addEventListener("hashchange",e,!1),Object.freeze({addScope:function(e){s.push(e)},handleModalsDependingOnUrlHash:e})}(),o=function(){i.addScope("speaker"),i.addScope("slot"),i.handleModalsDependingOnUrlHash()};function a(e){document.querySelector(".spinner-background").classList.remove("is-hidden");var t=document.getElementById("buy-article-form"),n=r("stripeToken",e.id),i=r("stripeEmail",e.email);t.appendChild(n),t.appendChild(i),t.submit()}function r(e,t){var n=document.createElement("input");return n.setAttribute("type","hidden"),n.setAttribute("name",e),n.setAttribute("value",t),n}function c(e){document.getElementById(e).classList.remove("is-hidden")}var l={init:function(){var n=StripeCheckout.configure({key:window.STRIPE_SETTINGS.key,name:"Python Canarias",description:window.STRIPE_SETTINGS.description,image:"/static/commons/img/logo-no-margin-cbf3406c48.png",locale:"auto",currency:"EUR",amount:window.STRIPE_SETTINGS.amount,zipCode:!0,token:a});document.getElementById("button-go-to-payment").addEventListener("click",function(e){var t;e.preventDefault(),t=!0,document.querySelectorAll(".validation-message").forEach(function(e){e.classList.add("is-hidden")}),""===document.getElementById("name-input").value.trim()?(t=!1,c("name-validation-message")):""===document.getElementById("surname-input").value.trim()?(t=!1,c("surname-validation-message")):1!==document.querySelectorAll(".terms input[type=checkbox]:checked").length&&(t=!1,c("checkboxes-validation-message")),t&&n.open()})}},s=function(){l.init()};document.addEventListener("DOMContentLoaded",function(){t(),n();var e=document.body.classList;e.contains("event-page")&&o(),e.contains("buy-article-page")&&s()})}();